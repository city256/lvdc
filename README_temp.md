# ESS 충방전 알고리즘
LVDC 마이크로그리드 ESS연계모드 개발


# 1. 운영모드 #

---
모든 운영모드들은 태양광이 연계됨

모든 운영모드 함수의 모든 리턴값은 Power Reference 값을 반환함

### 1.1 기본모드 
충전 : 발전량 > 부하량 일경우, 발전량 - 부하량 만큼 충전

방전 : 근무 시간마다, ESS 가용용량(800kW) / 주중 근무시간(40) = 20kW 씩 방전

### 1.2 피크제어 모드
계통 사용량이 계약 용량의 1/3인 피크치를 넘지 않도록 ESS를 충방전하는 모드.

나주 테스트베드 기준 계약용량 500kW / 3 = 170kW에서 피크치의 90%(150kW) 까지 Peak Shaving 하는 모드이다.

충전 : 경부하시간(22~08시)에 계통사용량이 피크치의 90%를 넘지 않게 충전
방전 : 경부하시간외에 피크치의 90%이상으로 계통사용량이 예측될 경우 피크치의 90% 이하 만큼 ESS 방전

### 1.3 수요관리 모드
수요관리(DSM, Demand Side Management)란? 최소의 비용으로 소비자의 전기에너지 서비스 욕구를 충족시키기 위하여 소비자의 전기사용 패턴을 합리적인 방향으로 유도하기 위한 전력회사의 제반활동이라고 정의하고 있다.

한전에서 정의한 부하시간대 별로 ESS를 충전, 방전, 대기

#### 경부하 시간대(22~08시)
충전 : 150kW로 충전

#### 중간부하 시간대(09~11시, 12~13시, 18~22시)
충전 : 발전량 > 부하량 일경우, 발전량 - 부하량 만큼 충전

#### 최대부하 시간대(11~12시, 13~18시)
방전 : 발전량 < 부하량 일경우, 발전량 - 부하량 만큼 방전

충전 : 발전량 > 부하량 일경우, 발전량 - 부하량 만큼 충전

### 1.4 태양광연계 모드



Pandas, pymysql, paho-MQTT 활용 